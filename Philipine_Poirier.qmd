---
title: "Philipine_Poirier"
format: html
editor: visual
---
```{r}
library(readr)
library(dplyr)
library(knitr)
library(ggplot2)
library(lubridate)
```


# Question 1 
```{r}
courses <- read_csv("courses.csv")
```

# Question 2 
```{r}
courses %>%
  rename(
    "identifiant" = course_id,
    "semester" = semester,
    "number of exams" = nb_grades
  ) %>%
  arrange(`course`) %>%
  kable()
```


# Question 3 
```{r}
students <- read_csv("students.csv") %>%
  mutate(
    id = as.integer(id),
    group = factor(group),
    birth_date = as.Date(birth_date),
    sex = factor(sex)
  )

class(students$birth_date)
class(students$sex)

```

# Question 4
```{r}
grades <- read_csv("grades.csv")
grades <- read_delim("grades.csv",
  delim = "|",
na = "_",
)

```

# Question 5

```{r}
students %>%
  group_by(group) %>%
  summarise(n_students = n()) %>%
  ggplot(aes(x = group, y = n_students)) +
  geom_col()
```

# Question 6 

```{r}
students %>%
  ggplot(aes(x = group, fill = sex)) +
  geom_bar(position = "fill")
```

# Question 7 
```{r}
students <- students %>% 
  mutate(
    age = round(time_length(today() - birth_date, unit = "year"))
  )
```

```{r}
students %>%
  ggplot(aes(x = age)) +
  geom_histogram(binwidth = 1)
```

# Question 8
```{r}
age_group <- students %>%
  group_by(group) %>%
  summarise(median_age = median(age))

kable(age_group)
```

# Question 9 
```{r}
#? 
```

# Question 10
The data set contains `r sum(!is.na(grades$grade))` grades.


# Question 11
```{r}
average <- grades %>%
  filter(course_id == 9) %>%
  #? 
```

# Question 12
```{r}

```

# Question 13
```{r}
nb_grades_student <- grades %>%
  group_by(id) %>%                     
  summarise(nb_grades = n()) %>%
  left_join(students %>% select(id, sex), 
            by = "id") 

nb_grades_student %>%
  slice_head(n = 5) %>%
  knitr::kable()
```

# Question 14
```{r}
nb_grades_student %>%
  ggplot(aes(x = sex, y = nb_grades)) +
  geom_boxplot()
```

